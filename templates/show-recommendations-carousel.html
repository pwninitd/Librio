<div id="carouselExampleIndicators" class="shadow-lg p-md-5 px-5 py-3 rounded-4 carousel carousel-dark slide"
     data-bs-touch="true">
    <div class="carousel-indicators">
        {% for dot in len|get_range %}
            {% if forloop.counter0 == 0 %}
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                        class="rounded-circle active" aria-current="true" aria-label="Slide 1"></button>
            {% endif %}
            {% if forloop.counter0 > 0 %}
                <button type="button" data-bs-target="#carouselExampleIndicators"
                        data-bs-slide-to="{{ forloop.counter0 }}"
                        class="rounded-circle" aria-current="true"
                        aria-label="Slide {{ forloop.counter0 }}"></button>
            {% endif %}

        {% endfor %}

    </div>
    <div class="carousel-inner">

        {% for book in books %}
            {% if forloop.counter == 1 %}
                <div class="carousel-item active">
            {% endif %}
            {% if forloop.counter > 1 %}
                <div class="carousel-item">
            {% endif %}
        <div class="row">
            <div class="col-md-4 col-sm-12">
                <div class="d-flex align-items-center justify-content-center">
                    <img src="{{ book.cover }}" alt="{{ book.title }} "
                         class="img-fluid">
                </div>

            </div>
            <div class="col-md-8 p-4 d-flex col-sm-12 flex-column position-static ">
                <h3 class="mb-3">{{ book.title }} <small class="text-body-secondary"> |
                    by {{ book.author }}</small>
                </h3>

                <ul class="p-0">
                    <li class="d-inline-block">
                        <strong class="text-primary-emphasis py-1 px-3 bg-primary-subtle rounded-4 border border-secondary">
                            {{ book.genres }}
                        </strong>
                    </li>
                    <li class="d-inline-block ms-md-4 mt-md-0 mt-3">
                        <ul class="p-0">
                            <li class="d-inline-block">
                                        <span class="text-body-secondary me-2">
                                            {{ book.ratings.ratings_avg }}
                                        </span>
                                <span>
                                            {% for i in book.ratings.full_stars|get_range %}
                                                <i class="fa-solid fa-star"></i>
                                            {% endfor %}
                                    {% if book.ratings.half_stars > 0 %}
                                        <i class="fa-regular fa-star-half-stroke"></i>
                                    {% endif %}
                                    {% for i in book.ratings.empty_stars|get_range %}
                                        <i class="fa-regular fa-star"></i>
                                    {% endfor %}
                                        </span>
                            </li>
                            <li class="d-inline-block">
                                <span class="text-body-secondary ms-md-3"> ({{ book.ratings.ratings_count }} raitings) </span>
                            </li>
                        </ul>


                    </li>
                </ul>


                <p class="text-body-secondary border-start border-secondary ps-3 w-75">
                    {{ book.summary }}
                </p>

                <p>
                    {{ book.reason }}
                </p>

            </div>
        </div>

        </div>
        {% endfor %}
        </div>

        <button class="carousel-control-prev" type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>